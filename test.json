{"code":"'use strict';\nvar esprima = require('esprima'), escodegen = require('escodegen'), jsdiff = require('diff');\nvar getDiff = function (file1, file2, fileName) {\n    var ast1 = esprima.parse(file1);\n    var ast2 = esprima.parse(file2);\n    var format1, format2, diff;\n    format1 = escodegen.generate(ast1);\n    format2 = escodegen.generate(ast2);\n    diff = jsdiff.diffLines(format2, format1);\n    var patch = jsdiff.createPatch(fileName, format1, format2);\n    return patch;\n};\nvar applyPatch = function (file1, diff) {\n    var format1;\n    var ast1 = esprima.parse(file1);\n    format1 = escodegen.generate(ast1);\n    var patched = jsdiff.applyPatch(format1, diff);\n    return patched + '\\n';\n};\nmodule.exports = {\n    diff: getDiff,\n    patch: applyPatch\n};","map":{"version":3,"sources":["astdiff.js"],"names":["esprima","require","escodegen","jsdiff","getDiff","file1","file2","fileName","ast1","parse","ast2","format1","format2","diff","generate","diffLines","patch","createPatch","applyPatch","patched","module","exports"],"mappings":"AAAA;AACA,IAAIA,OAAA,GAAUC,OAAA,CAAQ,SAAR,CAAd,EACIC,SAAA,GAAYD,OAAA,CAAQ,WAAR,CADhB,EAEIE,MAAA,GAASF,OAAA,CAAQ,MAAR,CAFb,CADA;AAIA,IAAIG,OAAA,GAAU,UAASC,KAAT,EAAgBC,KAAhB,EAAuBC,QAAvB,EAAiC;AAAA,IAC3C,IAAIC,IAAA,GAAOR,OAAA,CAAQS,KAAR,CAAcJ,KAAd,CAAX,CAD2C;AAAA,IAE3C,IAAIK,IAAA,GAAOV,OAAA,CAAQS,KAAR,CAAcH,KAAd,CAAX,CAF2C;AAAA,IAG3C,IAAIK,OAAJ,EAAaC,OAAb,EAAsBC,IAAtB,CAH2C;AAAA,IAI3CF,OAAA,GAAUT,SAAA,CAAUY,QAAV,CAAmBN,IAAnB,CAAV,CAJ2C;AAAA,IAK3CI,OAAA,GAAUV,SAAA,CAAUY,QAAV,CAAmBJ,IAAnB,CAAV,CAL2C;AAAA,IAM3CG,IAAA,GAAOV,MAAA,CAAOY,SAAP,CAAiBH,OAAjB,EAA0BD,OAA1B,CAAP,CAN2C;AAAA,IAO3C,IAAIK,KAAA,GAAQb,MAAA,CAAOc,WAAP,CAAmBV,QAAnB,EAA6BI,OAA7B,EAAsCC,OAAtC,CAAZ,CAP2C;AAAA,IAQ3C,OAAOI,KAAP,CAR2C;AAAA,CAA/C,CAJA;AAcA,IAAIE,UAAA,GAAa,UAASb,KAAT,EAAgBQ,IAAhB,EAAsB;AAAA,IACnC,IAAIF,OAAJ,CADmC;AAAA,IAEnC,IAAIH,IAAA,GAAOR,OAAA,CAAQS,KAAR,CAAcJ,KAAd,CAAX,CAFmC;AAAA,IAGnCM,OAAA,GAAUT,SAAA,CAAUY,QAAV,CAAmBN,IAAnB,CAAV,CAHmC;AAAA,IAInC,IAAIW,OAAA,GAAUhB,MAAA,CAAOe,UAAP,CAAkBP,OAAlB,EAA2BE,IAA3B,CAAd,CAJmC;AAAA,IAKnC,OAAOM,OAAA,GAAU,IAAjB,CALmC;AAAA,CAAvC,CAdA;AAqBAC,MAAA,CAAOC,OAAP,GAAiB;AAAA,IACbR,IAAA,EAAMT,OADO;AAAA,IAEbY,KAAA,EAAOE,UAFM;AAAA,CAAjB","sourcesContent":[null]}}
